# Запросы к AI (README)

Этот документ — маршрутизация запросов. Он определяет, какой порядок действий выполнять.

## Базовый порядок

1. Внести изменения в web (`src/web`).
   - если добавлена версия или новое приложение — обновить `src/web/registry.ts`;
2. Выполнить синхронизацию Web → Flutter по `sync-web-flutter.md`.

Если запрос — только на синхронизацию, выполняй только шаг 2.

## Маршрутизация запросов

### 1) Явный путь/версия

Признаки: указан путь вида `/app/v1`, `src/web/.../vN`, `apps/.../vN`, либо явно названа версия приложения.

Действие: правки только в указанной версии. Новую версию не создавать, если не просили.

### 2) Указано приложение, но без версии

Признаки: "Создай Контакты", "Обнови Launcher", "Добавь экран в Phone".

Действие: создать новую версию в существующем приложении (vN+1) и работать в ней. Обновить registry. Затем синхронизация.

### 3) Новый контекст / новое приложение

Признаки: приложения нет в `src/web` (например, "Создай Напоминания").

Действие: создать новое приложение и версию `v1` по правилам `new-app.md`. Обновить registry. Затем синхронизация.

### 4) Точный запрос на синхронизацию

Признаки: "Синхронизируй Web и Flutter".

Действие: выполнить только `sync-web-flutter.md` без изменений в web.

### 5) Добавление компонентов/шаблонов/ассетов/анимаций

Признаки: "Добавь кнопку", "Добавь шаблон свайпа", "Добавь иконку", "Добавь анимацию".

Действие: выполнить `new-asset.md`, затем синхронизация, если изменения затрагивают экраны.
